    @model AppointmentModel

    <h2>Book Appointment</h2>

    @using (Html.BeginForm("Create", "Appointment", FormMethod.Post))
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true , "", new { @class = "alert alert-danger" })



        <div class="mb-3">
            <label class="form-label">Doctor</label>
            @Html.DropDownListFor(x => x.DoctorId,
                new SelectList(ViewBag.Doctors ?? new List<DoctorModel>(), "DoctorId", "DoctorName"),
                "Select Doctor",
                new { @class = "form-control" })
            @Html.ValidationMessageFor(x => x.DoctorId, "", new { @class = "text-danger" })
        </div>

        <div class="mb-3">
            <label class="form-label">Patient</label>
            @Html.DropDownListFor(x => x.PatientId,
                new SelectList(ViewBag.Patients ?? new List<PatientModel>(), "PatientId", "PatientName"),
                "Select Patient",
                new { @class = "form-control" })
            @Html.ValidationMessageFor(x => x.PatientId, "", new { @class = "text-danger" })
        </div>

        <div class="mb-3">
            <label class="form-label">Date</label>
            @Html.TextBoxFor(x => x.AppointmentDate, new { type = "date", @class = "form-control" })
            @Html.ValidationMessageFor(x => x.AppointmentDate, "", new { @class = "text-danger" })
        </div>

        <div class="mb-3">
            <label class="form-label">Time</label>
            @Html.TextBoxFor(x => x.AppointmentTime, new { type = "time", @class = "form-control" })
            @Html.ValidationMessageFor(x => x.AppointmentTime, "", new { @class = "text-danger" })
        </div>
    @if (!ViewData.ModelState.IsValid)
        {
            <script>
                Swal.fire({
                    icon: 'error',
                    title: 'Appointment Conflict',
                    text: '@Html.Raw(string.Join(" ", ViewData.ModelState.Values.SelectMany(v => v.Errors).Select(e => e.ErrorMessage)))',
                    confirmButtonText: 'OK'
                });
            </script>
        }
        <button type="submit" class="btn btn-primary">Book Appointment</button>
    }
